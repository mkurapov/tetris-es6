{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap e0feb6818a998090a415","webpack:///./src/index.js","webpack:///./src/Tetrominos.js"],"names":["KEY","ESC","SPACE","LEFT","UP","RIGHT","DOWN","coloursMap","Tetris","canvas","ctx","getContext","scaleFactor","speed","gameState","rows","columns","gameBoard","currentTet","i","rowsTemp","Array","fill","push","document","addEventListener","ev","keyDown","x","y","colour","scaledX","scaledY","fillStyle","fillRect","strokeStyle","lineWidth","strokeRect","colourOfBlock","drawRect","insertTetromino","renderGameBoard","piece","n","matrix","length","boardXOffset","boardYOffset","bounds","Error","e","console","log","clearTetromino","copyPiece","orientation","rotate","validMove","redrawPiece","boardYOffsetBelow","gameBoardCopy","row","filteredRow","filter","val","pop","unshift","checkRows","join","tetrominos","tet2","Math","floor","random","direction","moveDown","bottomEmpty","spawnTetromino","moveRight","moveLeft","keyCode","handleRotation","makeMove","Tetromino","newArray","updateOrientation","orientationArray","oldOrientation","newOrientIndex","indexOf","TetrominoL","TetrominoJ","TetrominoZ","TetrominoS","TetrominoI"],"mappings":"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","file":"Tetris.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Tetris\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Tetris\"] = factory();\n\telse\n\t\troot[\"Tetris\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e0feb6818a998090a415\n **/","import {Tetromino, TetrominoL, TetrominoJ, TetrominoZ, TetrominoS, TetrominoI} from 'Tetrominos'\n\nconst KEY     = { ESC: 27, SPACE: 32, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40 }\nconst coloursMap = {\n  'E':'#f4eded',\n  'B':'#8CA4D4',\n  'O':'#FDCDA7',\n  'P':'#C2A1DA',\n  'R':'#EF8B8B',\n  'Y':'#FAF1A2',\n  'C':'#D6E9F8',\n  'G':'#C5D9A6'\n};\n\n// 'E':'#f4eded',\n\nexport default class Tetris {\n\n  constructor(canvas) {\n    this.canvas = canvas\n    this.ctx = canvas.getContext(\"2d\")\n    this.scaleFactor = 39\n    this.speed = 10\n    this.gameState = 1 //1 playing, 0 over\n    this.rows = 20\n    this.columns = 10\n    this.gameBoard = []; //make 10*20 game board\n    this.currentTet = {}\n\n    for (let i = 0; i < this.rows; i++)\n    {\n      const rowsTemp = Array(this.columns).fill('E')\n      this.gameBoard.push(rowsTemp)\n    }\n\n    document.addEventListener('keydown', (ev) => this.keyDown(ev), false);\n  }\n  drawRect(x,y, colour) {\n    const scaledX = x * this.scaleFactor\n    const scaledY = y * this.scaleFactor\n    this.ctx.fillStyle = colour;\n    this.ctx.fillRect(scaledX,scaledY, this.scaleFactor, this.scaleFactor);\n\n    this.ctx.strokeStyle = \"white\";\n    this.ctx.lineWidth   = 0.5;\n    this.ctx.strokeRect(scaledX,scaledY, this.scaleFactor, this.scaleFactor);\n  }\n\n\n  renderGameBoard()\n  {\n\n\n\n    for (let y = 0; y < this.rows; y++)\n    {\n      for (let x = 0; x < this.columns; x++)\n      {\n        const colourOfBlock = coloursMap[this.gameBoard[y][x]]\n        this.drawRect(x, y, colourOfBlock)\n      }\n    }\n  }\n\n\n  redrawPiece()\n  {\n    this.insertTetromino()\n    this.renderGameBoard()\n  }\n\n  validMove(piece)\n  {\n    //console.log(piece.matrix.join('\\n'));\n    //console.log(piece.x);\n    const n = piece.matrix.length\n\n\n    for (let y = 0;y < n;y++)\n    {\n      for (let x = 0; x < n; x++)\n      {\n        const boardXOffset = piece.x + x\n        const boardYOffset = piece.y + y\n\n\n        //if (boardXOffset === this.columns) return false\n\n\n        if (this.currentTet.matrix[y][x] !== 'E')\n        {\n          //console.log('piece x: '+x+' piece y: '+y);\n          //try to get gameboard at board offsets, if exception, then piece is out of bounds\n          try {\n            const bounds = this.gameBoard[boardYOffset][boardXOffset]\n\n            if ((bounds !== 'E')||(boardXOffset === this.columns)) {throw new Error('hit something')}\n\n          } catch (e) {\n            console.log('out of index');\n            return false\n          }\n        }\n\n      }\n    }\n\n    //console.log('------------');\n\n\n    return  true\n\n\n\n  }\n\n\n  clearTetromino()\n  {\n    const n = this.currentTet.matrix.length\n\n    for (let y = 0;y < n;y++)\n    {\n      for (let x = 0; x < n; x++)\n      {\n        const boardXOffset = this.currentTet.x + x\n        const boardYOffset = this.currentTet.y + y\n        if (this.currentTet.matrix[y][x] !== 'E') this.gameBoard[boardYOffset][boardXOffset] = 'E'\n      }\n    }\n  }\n\n  insertTetromino()\n  {\n\n    const n = this.currentTet.matrix.length\n\n\n    for (let y = 0; y < n; y++)\n    {\n      for (let x = 0; x < n; x++)\n      {\n        const boardXOffset = this.currentTet.x + x\n        const boardYOffset = this.currentTet.y + y\n        if (this.currentTet.matrix[y][x] !== 'E') this.gameBoard[boardYOffset][boardXOffset] = this.currentTet.matrix[y][x] //inital check will make sure not out of bounds\n\n      }\n    }\n  }\n\n\n\n  handleRotation()\n  {\n    this.clearTetromino();\n\n    let copyPiece = new Tetromino()\n    copyPiece.x = this.currentTet.x\n    copyPiece.y = this.currentTet.y\n    copyPiece.matrix = this.currentTet.matrix\n    copyPiece.orientation = this.currentTet.orientation\n\n   // console.log(copyPiece.matrix.join('\\n'));\n\n    copyPiece.rotate()\n\n   // console.log(copyPiece.matrix.join('\\n'));\n\n    if (this.validMove(copyPiece))  {this.currentTet.rotate()}\n\n\n    this.redrawPiece()\n  }\n\n\n  bottomEmpty(piece)\n  {\n    const n = piece.matrix.length\n\n    for (let y = 0;y < n;y++)\n    {\n      for (let x = 0; x < n; x++)\n      {\n        const boardXOffset = piece.x + x;\n        const boardYOffsetBelow = piece.y + y + 1;\n\n\n        if (piece.matrix[y][x] !== 'E')\n        {\n\n          //try to get gameboard at board offsets, if exception, then piece is out of bounds\n          try {\n            const bounds = this.gameBoard[boardYOffsetBelow][boardXOffset]\n            //console.log(boardYOffsetBelow);\n            if (bounds !== 'E') return false\n\n          } catch (e) {\n            console.log('out of index');\n            return false\n          }\n        }\n      }\n    }\n\n    return true\n\n  }\n\n  checkRows()\n  {\n      let gameBoardCopy = this.gameBoard\n\n      for (let row = this.rows-1 ; row >= 0;row--)\n      {\n        let filteredRow = (gameBoardCopy[row]).filter((val) => {return val === 'E'})\n\n        if (filteredRow.length === 0)\n        {\n          this.gameBoard.pop()\n          const rowsTemp = Array(this.columns).fill('E')\n          this.gameBoard.unshift(rowsTemp)\n        }\n\n        console.log(filteredRow);\n      }\n\n    this.renderGameBoard()\n  }\n\n\n  spawnTetromino()\n  {\n    this.checkRows()\n    console.log(this.gameBoard.join('\\n'));\n    const tetrominos = [new TetrominoI(), new TetrominoJ(), new TetrominoL(), new TetrominoS(), new TetrominoZ()]\n\n    let tet2 = tetrominos[Math.floor(Math.random()*tetrominos.length)];\n    this.currentTet = tet2\n    this.insertTetromino()\n    this.renderGameBoard()\n  }\n\n  makeMove(direction)\n  {\n    this.clearTetromino()\n    let copyPiece = new Tetromino()\n    copyPiece.x = this.currentTet.x\n    copyPiece.y = this.currentTet.y\n    copyPiece.matrix = this.currentTet.matrix\n\n\n    switch(direction) {\n      case KEY.DOWN:\n        copyPiece.moveDown()\n\n        if (this.validMove(copyPiece))\n        {\n          this.currentTet.moveDown()\n          if (!this.bottomEmpty(copyPiece))\n          {\n            this.insertTetromino()\n            this.spawnTetromino()\n          }\n          else\n          {\n            this.redrawPiece()\n          }\n\n        //  console.log(this.gameBoard.join('\\n'));\n\n        }\n\n        break;\n      case KEY.RIGHT:\n        copyPiece.moveRight()\n        if (this.validMove(copyPiece))\n        {\n          this.currentTet.moveRight()\n          this.redrawPiece()\n        }\n        break;\n      case KEY.LEFT:\n        copyPiece.moveLeft()\n        if (this.validMove(copyPiece))\n        {\n          this.currentTet.moveLeft()\n          this.redrawPiece()\n        }\n        break;\n    }\n\n\n\n\n  }\n\n\n\n\n  keyDown(ev) {\n      switch(ev.keyCode) {\n        case KEY.UP:\n          this.handleRotation();\n          break;\n        case KEY.DOWN:\n          this.makeMove(KEY.DOWN);\n          break;\n        case KEY.RIGHT:\n          this.makeMove(KEY.RIGHT);\n          break;\n        case KEY.LEFT:\n          this.makeMove(KEY.LEFT);\n          break;\n      }\n    //console.clear()\n    //console.log(this.gameBoard.join('\\n'));\n  }\n\n  run()\n  {\n\n\n    this.currentTet = new TetrominoL()\n\n    this.insertTetromino()\n\n\n    this.renderGameBoard()\n\n\n\n\n\n\n  }\n\n}\n\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/index.js\n **/","export class Tetromino {\n\n  constructor() {\n    this.orientation = 'u'\n    this.matrix = []\n    this.x = 3\n    this.y = 1\n  }\n\n  rotate()\n  {\n    const n = this.matrix.length\n\n    // let newArray = []\n    // for (let i = 0; i < n; i++)\n    // {\n    //   const rowsTemp = Array(n).fill()\n    //   newArray.push(rowsTemp)\n    // }\n    let newArray = []\n\n    newArray = [\n        [[],[],[]],\n        [[],[],[]],\n        [[],[],[]]\n    ]\n\n    console.log(newArray)\n\n\n\n\n    for(let y = 0; y < n;y++) {\n        for(let x = 0; x < n; x++) {\n          newArray[y][x] = this.matrix[n - x - 1][y];\n        }\n    }\n\n    this.matrix = newArray\n    this.updateOrientation()\n\n  }\n  \n\n  updateOrientation()\n  {\n    const orientationArray = ['u','r','d','l']\n    const oldOrientation = this.orientation\n    \n    const newOrientIndex = (orientationArray.indexOf(oldOrientation)+1) % 4;\n    this.orientation = orientationArray[newOrientIndex]\n  }\n\n  \n  moveRight(){this.x += 1}\n  moveLeft(){this.x -= 1}\n  moveDown(){this.y += 1}\n  moveUp(){this.y -= 1}\n\n\n\n\n}\n\nexport class TetrominoL extends Tetromino\n{\n  constructor() {\n    super()\n    this.colour = 'B'\n    this.matrix = [\n        ['B','E','E'],\n        ['B','B','B'],\n        ['E','E','E']\n    ]\n  }\n}\n\nexport class TetrominoJ extends Tetromino\n{\n  constructor() {\n    super()\n    this.colour = 'J'\n    this.matrix = [\n      ['E','E','O'],\n      ['O','O','O'],\n      ['E','E','E']\n    ]\n  }\n}\n\nexport class TetrominoZ extends Tetromino\n{\n  constructor() {\n    super()\n    this.colour = 'R'\n    this.matrix = [\n      ['R','R','E'],\n      ['E','R','R'],\n      ['E','E','E']\n    ]\n  }\n}\n\nexport class TetrominoS extends Tetromino\n{\n  constructor() {\n    super()\n    this.colour = 'G'\n    this.matrix = [\n      ['E','G','G'],\n      ['G','G','E'],\n      ['E','E','E']\n    ]\n  }\n}\n\nexport class TetrominoI extends Tetromino\n{\n  constructor() {\n    super()\n    this.colour = 'C'\n    this.matrix = [\n      ['E','E','E','E'],\n      ['C','C','C','C'],\n      ['E','E','E','E'],\n      ['E','E','E','E']\n    ]\n  }\n}\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/Tetrominos.js\n **/"],"sourceRoot":""}